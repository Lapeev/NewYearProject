!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){var n=r(1);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,r){},,function(t,e,r){var n,a,c={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),i=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,u=0,f=[],l=r(4);function d(t,e){for(var r=0;r<t.length;r++){var n=t[r],a=c[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(p(n.parts[o],e))}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(p(n.parts[o],e));c[n.id]={id:n.id,refs:1,parts:i}}}}function m(t,e){for(var r=[],n={},a=0;a<t.length;a++){var c=t[a],o=e.base?c[0]+e.base:c[0],i={css:c[1],media:c[2],sourceMap:c[3]};n[o]?n[o].parts.push(i):r.push(n[o]={id:o,parts:[i]})}return r}function _(t,e){var r=i(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=f[f.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),f.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=i(t.insertAt.before,r);r.insertBefore(e,a)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),_(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function p(t,e){var r,n,a,c;if(e.transform&&t.css){if(!(c="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=c}if(e.singleton){var o=u++;r=s||(s=v(e)),n=y.bind(null,r,o,!1),a=y.bind(null,r,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),_(t,e),e}(e),n=function(t,e,r){var n=r.css,a=r.sourceMap,c=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||c)&&(n=l(n));a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}.bind(null,r,e),a=function(){h(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),a=function(){h(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=m(t,e);return d(r,e),function(t){for(var n=[],a=0;a<r.length;a++){var o=r[a];(i=c[o.id]).refs--,n.push(i)}t&&d(m(t,e),e);for(a=0;a<n.length;a++){var i;if(0===(i=n[a]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete c[i.id]}}}};var b,L=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function y(t,e,r,n){var a=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=L(e,a);else{var c=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(c,o[e]):t.appendChild(c)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a,c=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(c)?t:(a=0===c.indexOf("//")?c:0===c.indexOf("/")?r+c:n+c.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,e,r){"use strict";r.r(e);r(0);!function(){var t,e=document.querySelector(".main__gallery_base"),r=document.querySelector(".main__gallery_favorite"),n=document.querySelector(".main__popup"),a=document.querySelector(".popup__svg_close"),c=document.querySelector(".popup__img"),o=document.querySelector(".header__favourite"),i=(document.querySelector(".header__favourites"),document.querySelector(".main__section_base")),s=document.querySelector(".main__section_favorite"),u=document.querySelector(".popup__svg_back"),f=document.querySelector(".popup__svg_next"),l=document.querySelector(".search__input"),d=document.querySelector(".main__more"),m=document.querySelector(".popup__star"),_=document.querySelector(".search"),h=document.querySelector(".search__button");document.querySelector(".header"),document.querySelector(".main");e.addEventListener("click",g),a.addEventListener("click",function(){n.classList.add("d-none"),c.src=""}),o.addEventListener("click",function(){if(s.classList.toggle("d-none"),i.classList.toggle("d-none"),_.classList.toggle("d-none"),r.addEventListener("click",g),v&&null!==localStorage.getItem("doms")&&""!==localStorage.getItem("doms")){var t=localStorage.getItem("doms").split(","),e=t.map(function(t){return'<li class="main__item main__item_favorite">'.concat(t,'<svg class="gallery__svg gallery__svg_delete">\n            <use href="img/sprite.svg#close"></use>\n        </svg></li>')});r.innerHTML=e.reverse().join("")}}),u.addEventListener("click",function(){if(i.classList.contains("d-none")){var t=Array.from(document.querySelectorAll(".main__img_favorite")),e=t.map(function(t){return t.src}).indexOf(c.getAttribute("data-small"));0===e?(c.src=t[t.length-1].getAttribute("data-full"),c.dataset.small=t[t.length-1].src):(c.src=t[e-1].getAttribute("data-full"),c.dataset.small=t[e-1].src)}else{var r=Array.from(document.querySelectorAll(".main__img_main")),n=r.map(function(t){return t.src}).indexOf(c.getAttribute("data-small"));0===n?(c.src=r[r.length-1].getAttribute("data-full"),c.dataset.small=r[r.length-1].src,L()):(c.src=r[n-1].getAttribute("data-full"),c.dataset.small=r[n-1].src,L())}}),f.addEventListener("click",function(){if(i.classList.contains("d-none")){var t=Array.from(document.querySelectorAll(".main__img_favorite")),e=t.map(function(t){return t.src}).indexOf(c.getAttribute("data-small"));e===t.length-1?(c.src=t[0].getAttribute("data-full"),c.dataset.small=t[0].src):(c.src=t[e+1].getAttribute("data-full"),c.dataset.small=t[e+1].src)}else{var r=Array.from(document.querySelectorAll(".main__img_main")),n=r.map(function(t){return t.src}).indexOf(c.getAttribute("data-small"));n===r.length-1?(c.src=r[0].getAttribute("data-full"),c.dataset.small=r[0].src,L()):(c.src=r[n+1].getAttribute("data-full"),c.dataset.small=r[n+1].src,L())}}),h.addEventListener("click",p),d.addEventListener("click",p),m.addEventListener("click",function(){if(s.classList.contains("d-none")&&v){var t=Array.from(document.querySelectorAll(".main__img_main")),e=t.find(function(t){return t.src==c.getAttribute("data-small")}),r=e.cloneNode(!1);r.classList.remove("main__img_main"),r.classList.add("main__img_favorite"),null!=localStorage.getItem("doms")&&""!=localStorage.getItem("doms")||(localStorage.setItem("doms","".concat(r.outerHTML)),m.classList.add("popup__star_active")),localStorage.getItem("doms").includes("".concat(r.outerHTML))||(localStorage.setItem("doms","".concat(localStorage.getItem("doms"),",").concat(r.outerHTML)),m.classList.add("popup__star_active"))}});var v=function(t){if(t)return{isActive:"localStorage"in t}}(window);function g(t){var e=t.target;if("IMG"===e.nodeName)c.src=e.getAttribute("data-full"),c.dataset.small=e.src,i.classList.contains("d-none")?m.classList.add("popup__star_active"):L(),n.classList.remove("d-none");else if("svg"===e.nodeName){if(v&&null!==localStorage.getItem("doms")&&""!==localStorage.getItem("doms")){var r=e.parentNode.firstElementChild.outerHTML,a=localStorage.getItem("doms").split(",");localStorage.setItem("doms","".concat(a.filter(function(t){return t!==r})))}this.removeChild(e.parentNode)}}function p(r){r.preventDefault(),e.hasAttribute("data-category")&&e.getAttribute("data-category")!=l.value?(e.dataset.category=l.value,e.innerHTML="",t=1,b()):(e.hasAttribute("data-category")||(e.dataset.category=l.value),b())}function b(){null==t&&(t=1);var r={key:"11172718-f6e56b8a08a6b762793b5fef6",q:l.value,lang:"ru",image_type:"photo",per_page:12,page:"".concat(t)};fetch("https://pixabay.com/api/?key=".concat(r.key,"&q=").concat(r.q,"&lang=").concat(r.lang,"&image_type=").concat(r.image_type,"&page=").concat(r.page,"&per_page=").concat(r.per_page)).then(function(t){if(200==t.status)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))}).then(function(n){t++,function(t,r){var n=[];t.hits.forEach(function(t){var e=document.createElement("li");e.classList.add("main__item");var a=document.createElement("img");a.classList.add("main__img"),a.classList.add("main__img_main"),e.append(a),a.src="".concat(t.previewURL),a.dataset.full=t.largeImageURL,a.dataset.category=r.q,t.previewHeight<=t.previewWidth?a.classList.add("horisontal"):a.classList.add("vertical"),n.push(e)}),e.append.apply(e,n),d.classList.contains("hiden")&&d.classList.remove("hiden")}(n,r)})}function L(){if(v&&null!==localStorage.getItem("doms")&&""!==localStorage.getItem("doms")){var t=localStorage.getItem("doms");m.classList.contains("popup__star_active")&&m.classList.remove("popup__star_active"),-1!==t.indexOf(c.src)&&m.classList.add("popup__star_active")}}}()}]);
//# sourceMappingURL=index.js.map